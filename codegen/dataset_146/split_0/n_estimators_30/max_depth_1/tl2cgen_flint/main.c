
#include "header.h"


static const int32_t num_class[] = {  6, };

int32_t get_num_target(void) {
  return N_TARGET;
}
void get_num_class(int32_t* out) {
  for (int i = 0; i < N_TARGET; ++i) {
    out[i] = num_class[i];
  }
}
int32_t get_num_feature(void) {
  return 36;
}
const char* get_threshold_type(void) {
  return "float32";
}
const char* get_leaf_output_type(void) {
  return "float32";
}


void predict(union Entry* data, int pred_margin, float* result) {
  unsigned int tmp;
  if ( ( !(data[16].missing != -1) || ((*( ((int*)(data)) + 16 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.3183551198257081;
    result[1] += 0.13725490196078433;
    result[2] += 0.016067538126361657;
    result[3] += 0.07706971677559912;
    result[4] += 0.15468409586056645;
    result[5] += 0.2965686274509804;
  } else {
    result[0] += 0.024263431542461005;
    result[1] += 0;
    result[2] += 0.7738301559792028;
    result[3] += 0.15077989601386482;
    result[4] += 0.0017331022530329288;
    result[5] += 0.049393414211438474;
  }
  if ( ( !(data[16].missing != -1) || ((*( ((int*)(data)) + 16 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.32006543075245364;
    result[1] += 0.1414940021810251;
    result[2] += 0.014449291166848418;
    result[3] += 0.08451472191930207;
    result[4] += 0.14176663031624864;
    result[5] += 0.29770992366412213;
  } else {
    result[0] += 0.016407599309153715;
    result[1] += 0;
    result[2] += 0.7892918825561313;
    result[3] += 0.13903281519861832;
    result[4] += 0.0017271157167530224;
    result[5] += 0.0535405872193437;
  }
  if ( ( !(data[16].missing != -1) || ((*( ((int*)(data)) + 16 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.307856761090326;
    result[1] += 0.12800641368252272;
    result[2] += 0.022180652057723144;
    result[3] += 0.09647247461250669;
    result[4] += 0.15152324959914484;
    result[5] += 0.29396044895777657;
  } else {
    result[0] += 0.008302583025830257;
    result[1] += 0;
    result[2] += 0.8413284132841327;
    result[3] += 0.11715867158671583;
    result[4] += 0.0009225092250922507;
    result[5] += 0.032287822878228775;
  }
  if ( ( !(data[20].missing != -1) || ((*( ((int*)(data)) + 20 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.30634457127687814;
    result[1] += 0.13750995487125034;
    result[2] += 0.03052827183435094;
    result[3] += 0.1008760286700292;
    result[4] += 0.14945580037164852;
    result[5] += 0.2752853729758428;
  } else {
    result[0] += 0.008498583569405102;
    result[1] += 0.007554296506137867;
    result[2] += 0.8366383380547687;
    result[3] += 0.0991501416430595;
    result[4] += 0.005665722379603401;
    result[5] += 0.0424929178470255;
  }
  if ( ( !(data[0].missing != -1) || ((*( ((int*)(data)) + 0 ))<=((int)(0x429d0000))) ) ) {
    result[0] += 0.315118912797282;
    result[1] += 0.14722536806342015;
    result[2] += 0.01868629671574179;
    result[3] += 0.0818233295583239;
    result[4] += 0.15543601359003398;
    result[5] += 0.2817100792751982;
  } else {
    result[0] += 0.03941267387944358;
    result[1] += 0.010819165378670788;
    result[2] += 0.7256568778979907;
    result[3] += 0.14296754250386398;
    result[4] += 0.008500772797527048;
    result[5] += 0.07264296754250386;
  }
  if ( ( !(data[0].missing != -1) || ((*( ((int*)(data)) + 0 ))<=((int)(0x429d0000))) ) ) {
    result[0] += 0.3254437869822485;
    result[1] += 0.13299520991828684;
    result[2] += 0.015779092702169626;
    result[3] += 0.08509439278670047;
    result[4] += 0.15074668920822767;
    result[5] += 0.28994082840236685;
  } else {
    result[0] += 0.039937353171495694;
    result[1] += 0.007830853563038372;
    result[2] += 0.7071260767423649;
    result[3] += 0.14878621769772904;
    result[4] += 0.011746280344557557;
    result[5] += 0.08457321848081441;
  }
  if ( ( !(data[0].missing != -1) || ((*( ((int*)(data)) + 0 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.3125662778366914;
    result[1] += 0.13149522799575822;
    result[2] += 0.0331389183457052;
    result[3] += 0.09040296924708377;
    result[4] += 0.15270413573700956;
    result[5] += 0.27969247083775184;
  } else {
    result[0] += 0.028462998102466792;
    result[1] += 0.006641366223908918;
    result[2] += 0.7675521821631879;
    result[3] += 0.13092979127134724;
    result[4] += 0.014231499051233396;
    result[5] += 0.05218216318785579;
  }
  if ( ( !(data[20].missing != -1) || ((*( ((int*)(data)) + 20 ))<=((int)(0x429d0000))) ) ) {
    result[0] += 0.3197067944742035;
    result[1] += 0.15280518748237948;
    result[2] += 0.014378347899633492;
    result[3] += 0.08288694671553426;
    result[4] += 0.15139554553143503;
    result[5] += 0.2788271778968142;
  } else {
    result[0] += 0.012509773260359656;
    result[1] += 0.004691164972634871;
    result[2] += 0.72869429241595;
    result[3] += 0.15559030492572323;
    result[4] += 0.014073494917904612;
    result[5] += 0.08444096950742767;
  }
  if ( ( !(data[8].missing != -1) || ((*( ((int*)(data)) + 8 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.3055923668168566;
    result[1] += 0.13252054068380598;
    result[2] += 0.037900874635568516;
    result[3] += 0.09170421415319374;
    result[4] += 0.1505433342168036;
    result[5] += 0.2817386694937715;
  } else {
    result[0] += 0.02564102564102564;
    result[1] += 0.00949667616334283;
    result[2] += 0.8015194681861348;
    result[3] += 0.0892687559354226;
    result[4] += 0.00949667616334283;
    result[5] += 0.06457739791073125;
  }
  if ( ( !(data[28].missing != -1) || ((*( ((int*)(data)) + 28 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.3092811897548885;
    result[1] += 0.15037179840264392;
    result[2] += 0.024235747727898653;
    result[3] += 0.09308730377306529;
    result[4] += 0.1316441751583586;
    result[5] += 0.29137978518314517;
  } else {
    result[0] += 0.007531380753138076;
    result[1] += 0.004184100418410042;
    result[2] += 0.8000000000000002;
    result[3] += 0.12217573221757323;
    result[4] += 0.012552301255230127;
    result[5] += 0.05355648535564854;
  }
  if ( ( !(data[12].missing != -1) || ((*( ((int*)(data)) + 12 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.31634642160957954;
    result[1] += 0.140072403230298;
    result[2] += 0.021442495126705655;
    result[3] += 0.07685881370091897;
    result[4] += 0.14842662211083266;
    result[5] += 0.2968532442216653;
  } else {
    result[0] += 0.026720647773279357;
    result[1] += 0.007287449392712551;
    result[2] += 0.7611336032388665;
    result[3] += 0.13927125506072877;
    result[4] += 0.006477732793522268;
    result[5] += 0.059109311740890694;
  }
  if ( ( !(data[28].missing != -1) || ((*( ((int*)(data)) + 28 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.3214963404716725;
    result[1] += 0.13987530496069395;
    result[2] += 0.026023312550826783;
    result[3] += 0.08078069937652481;
    result[4] += 0.14177283816752506;
    result[5] += 0.29005150447275685;
  } else {
    result[0] += 0.015831134564643804;
    result[1] += 0.004397537379067723;
    result[2] += 0.7686895338610379;
    result[3] += 0.11785400175901496;
    result[4] += 0.014951627088830256;
    result[5] += 0.07827616534740546;
  }
  if ( ( !(data[4].missing != -1) || ((*( ((int*)(data)) + 4 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.3052910052910053;
    result[1] += 0.1388888888888889;
    result[2] += 0.03677248677248677;
    result[3] += 0.0917989417989418;
    result[4] += 0.14179894179894179;
    result[5] += 0.28544973544973545;
  } else {
    result[0] += 0.022944550669216066;
    result[1] += 0.006692160611854686;
    result[2] += 0.8021032504780116;
    result[3] += 0.10898661567877631;
    result[4] += 0.005736137667304016;
    result[5] += 0.053537284894837486;
  }
  if ( ( !(data[16].missing != -1) || ((*( ((int*)(data)) + 16 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.3049626467449306;
    result[1] += 0.14300960512273211;
    result[2] += 0.02694770544290288;
    result[3] += 0.09578441835645678;
    result[4] += 0.14194236926360726;
    result[5] += 0.2873532550693703;
  } else {
    result[0] += 0.016697588126159558;
    result[1] += 0;
    result[2] += 0.8348794063079779;
    result[3] += 0.11317254174397033;
    result[4] += 0.002782931354359926;
    result[5] += 0.03246753246753247;
  }
  if ( ( !(data[20].missing != -1) || ((*( ((int*)(data)) + 20 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.32090983831186626;
    result[1] += 0.14524527267744589;
    result[2] += 0.02137571937517128;
    result[3] += 0.08605097286927925;
    result[4] += 0.15127432173198135;
    result[5] += 0.27514387503425597;
  } else {
    result[0] += 0.015293118096856415;
    result[1] += 0.00594732370433305;
    result[2] += 0.7731520815632965;
    result[3] += 0.11809685641461343;
    result[4] += 0.01784197111299915;
    result[5] += 0.06966864910790145;
  }
  if ( ( !(data[0].missing != -1) || ((*( ((int*)(data)) + 0 ))<=((int)(0x429d0000))) ) ) {
    result[0] += 0.3125;
    result[1] += 0.1510180995475113;
    result[2] += 0.014423076923076924;
    result[3] += 0.0757918552036199;
    result[4] += 0.1546945701357466;
    result[5] += 0.29157239819004527;
  } else {
    result[0] += 0.04031007751937985;
    result[1] += 0.0062015503875969;
    result[2] += 0.6992248062015505;
    result[3] += 0.16356589147286824;
    result[4] += 0.013178294573643412;
    result[5] += 0.07751937984496125;
  }
  if ( ( !(data[3].missing != -1) || ((*( ((int*)(data)) + 3 ))<=((int)(0x42950000))) ) ) {
    result[0] += 0.05132743362831858;
    result[1] += 0.020058997050147492;
    result[2] += 0.010619469026548672;
    result[3] += 0.13864306784660768;
    result[4] += 0.2088495575221239;
    result[5] += 0.5705014749262537;
  } else {
    result[0] += 0.3513254551261578;
    result[1] += 0.13957202171830088;
    result[2] += 0.3168316831683169;
    result[3] += 0.08208240178856596;
    result[4] += 0.05685084637496008;
    result[5] += 0.05333759182369851;
  }
  if ( ( !(data[12].missing != -1) || ((*( ((int*)(data)) + 12 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.3140764849471115;
    result[1] += 0.1383238405207486;
    result[2] += 0.029563330621101166;
    result[3] += 0.08407919717927854;
    result[4] += 0.14483319772172498;
    result[5] += 0.28912394901003524;
  } else {
    result[0] += 0.030728709394205442;
    result[1] += 0.0026338893766461808;
    result[2] += 0.8050921861281826;
    result[3] += 0.1141352063213345;
    result[4] += 0.004389815627743635;
    result[5] += 0.04302019315188762;
  }
  if ( ( !(data[12].missing != -1) || ((*( ((int*)(data)) + 12 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.30259983918520506;
    result[1] += 0.14017689627445726;
    result[2] += 0.03189493433395872;
    result[3] += 0.08442776735459662;
    result[4] += 0.15196998123827393;
    result[5] += 0.28893058161350843;
  } else {
    result[0] += 0.021917808219178082;
    result[1] += 0.0036529680365296802;
    result[2] += 0.7844748858447489;
    result[3] += 0.1415525114155251;
    result[4] += 0.0018264840182648401;
    result[5] += 0.04657534246575343;
  }
  if ( ( !(data[28].missing != -1) || ((*( ((int*)(data)) + 28 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.30098684210526316;
    result[1] += 0.1493969298245614;
    result[2] += 0.02549342105263158;
    result[3] += 0.09402412280701754;
    result[4] += 0.14912280701754385;
    result[5] += 0.28097587719298245;
  } else {
    result[0] += 0.010186757215619695;
    result[1] += 0.003395585738539898;
    result[2] += 0.7741935483870968;
    result[3] += 0.1273344651952462;
    result[4] += 0.00933786078098472;
    result[5] += 0.07555178268251274;
  }
  if ( ( !(data[20].missing != -1) || ((*( ((int*)(data)) + 20 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.30563641174913997;
    result[1] += 0.13098703360677427;
    result[2] += 0.03440063508864779;
    result[3] += 0.10320190526594337;
    result[4] += 0.13760254035459116;
    result[5] += 0.2881714739349034;
  } else {
    result[0] += 0.01241642788920726;
    result[1] += 0.004775549188156639;
    result[2] += 0.8233046800382045;
    result[3] += 0.113658070678128;
    result[4] += 0.0038204393505253107;
    result[5] += 0.04202483285577842;
  }
  if ( ( !(data[20].missing != -1) || ((*( ((int*)(data)) + 20 ))<=((int)(0x429a0000))) ) ) {
    result[0] += 0.32807659814136864;
    result[1] += 0.14897212052942832;
    result[2] += 0.012672486623486343;
    result[3] += 0.07406364404393129;
    result[4] += 0.15150661785412559;
    result[5] += 0.2847085328076598;
  } else {
    result[0] += 0.01647058823529412;
    result[1] += 0.003137254901960784;
    result[2] += 0.7168627450980393;
    result[3] += 0.15764705882352942;
    result[4] += 0.01568627450980392;
    result[5] += 0.09019607843137255;
  }
  if ( ( !(data[28].missing != -1) || ((*( ((int*)(data)) + 28 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.3213245033112583;
    result[1] += 0.13456953642384106;
    result[2] += 0.031258278145695366;
    result[3] += 0.08900662251655629;
    result[4] += 0.14198675496688742;
    result[5] += 0.2818543046357616;
  } else {
    result[0] += 0.005708848715509039;
    result[1] += 0.004757373929590866;
    result[2] += 0.8192197906755471;
    result[3] += 0.11893434823977164;
    result[4] += 0.007611798287345386;
    result[5] += 0.04376784015223597;
  }
  if ( ( !(data[15].missing != -1) || ((*( ((int*)(data)) + 15 ))<=((int)(0x42970000))) ) ) {
    result[0] += 0.05977945443993035;
    result[1] += 0.009286128845037725;
    result[2] += 0.0046430644225188625;
    result[3] += 0.16018572257690075;
    result[4] += 0.20835751596053395;
    result[5] += 0.5577481137550784;
  } else {
    result[0] += 0.3557847244601998;
    result[1] += 0.16274572993876893;
    result[2] += 0.3145343216242346;
    result[3] += 0.06284241057041573;
    result[4] += 0.06799871092491137;
    result[5] += 0.03609410248146955;
  }
  if ( ( !(data[28].missing != -1) || ((*( ((int*)(data)) + 28 ))<=((int)(0x429d0000))) ) ) {
    result[0] += 0.3278275475923852;
    result[1] += 0.15257558790593506;
    result[2] += 0.018756998880179173;
    result[3] += 0.07866741321388578;
    result[4] += 0.12877939529675253;
    result[5] += 0.2933930571108623;
  } else {
    result[0] += 0.014354066985645933;
    result[1] += 0.001594896331738437;
    result[2] += 0.7256778309409888;
    result[3] += 0.16507177033492823;
    result[4] += 0.01674641148325359;
    result[5] += 0.07655502392344497;
  }
  if ( ( !(data[4].missing != -1) || ((*( ((int*)(data)) + 4 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.29696969696969705;
    result[1] += 0.12832674571805008;
    result[2] += 0.03504611330698288;
    result[3] += 0.10144927536231886;
    result[4] += 0.15151515151515155;
    result[5] += 0.28669301712779977;
  } else {
    result[0] += 0.030067895247332686;
    result[1] += 0.002909796314258002;
    result[2] += 0.7982541222114452;
    result[3] += 0.12124151309408342;
    result[4] += 0.006789524733268671;
    result[5] += 0.040737148399612025;
  }
  if ( ( !(data[20].missing != -1) || ((*( ((int*)(data)) + 20 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.3024967148488831;
    result[1] += 0.1392904073587385;
    result[2] += 0.03521681997371879;
    result[3] += 0.09750328515111695;
    result[4] += 0.14507227332457293;
    result[5] += 0.28042049934296975;
  } else {
    result[0] += 0.011753183153770812;
    result[1] += 0.004897159647404506;
    result[2] += 0.8354554358472086;
    result[3] += 0.0940254652301665;
    result[4] += 0.004897159647404506;
    result[5] += 0.04897159647404505;
  }
  if ( ( !(data[13].missing != -1) || ((*( ((int*)(data)) + 13 ))<=((int)(0x42ba0000))) ) ) {
    result[0] += 0.1521964718090626;
    result[1] += 0.1836734693877551;
    result[2] += 0.011068834313386372;
    result[3] += 0.10549982704946385;
    result[4] += 0.18125216188170185;
    result[5] += 0.3663092355586302;
  } else {
    result[0] += 0.3648578811369509;
    result[1] += 0.0020671834625322996;
    result[2] += 0.5121447028423772;
    result[3] += 0.07958656330749354;
    result[4] += 0.008785529715762274;
    result[5] += 0.03255813953488372;
  }
  if ( ( !(data[16].missing != -1) || ((*( ((int*)(data)) + 16 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.31299212598425197;
    result[1] += 0.14595050618672667;
    result[2] += 0.014904386951631047;
    result[3] += 0.08520809898762655;
    result[4] += 0.14454443194600675;
    result[5] += 0.296400449943757;
  } else {
    result[0] += 0.023622047244094488;
    result[1] += 0;
    result[2] += 0.7968503937007874;
    result[3] += 0.1346456692913386;
    result[4] += 0.0015748031496062992;
    result[5] += 0.04330708661417323;
  }
  if ( ( !(data[0].missing != -1) || ((*( ((int*)(data)) + 0 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.29255918827508454;
    result[1] += 0.15022547914317927;
    result[2] += 0.02677564825253664;
    result[3] += 0.08821871476888388;
    result[4] += 0.14825253664036075;
    result[5] += 0.2939684329199549;
  } else {
    result[0] += 0.0406885758998435;
    result[1] += 0.006259780907668232;
    result[2] += 0.7574334898278561;
    result[3] += 0.1189358372456964;
    result[4] += 0.00782472613458529;
    result[5] += 0.06885758998435054;
  }
  
  // Average tree outputs
  result[0] /= 30;
  result[1] /= 30;
  result[2] /= 30;
  result[3] /= 30;
  result[4] /= 30;
  result[5] /= 30;
  
  // Apply base_scores
  result[0] += 0;
  result[1] += 0;
  result[2] += 0;
  result[3] += 0;
  result[4] += 0;
  result[5] += 0;
  
  // Apply postprocessor
  if (!pred_margin) { postprocess(result); }
}

void postprocess(float* result) {
  // Do nothing
}


int main() {
    float result[MAX_N_CLASS];
    union Entry input[TEST_DATA_COLS];
    char line[1024];
    

    FILE* file = fopen("./codegen/dataset_146/split_0/test_data.csv", "r");
    if (file == NULL) {
        printf("Error opening file\n");
        return 1;
    }

    while (fgets(line, sizeof(line), file)) {
        char *ptr = line;
        for (int i = 0; i < TEST_DATA_COLS; i++) {
            sscanf(ptr, "%f", &(input[i].fvalue));
            input[i].missing = -1;
            while (*ptr != ',' && *ptr != '\n' && *ptr != '\0') ptr++;  // Skip to next comma
            if (*ptr == ',') ptr++;  // Move past the comma
        }
        predict(input, 0, result);
        
    }
    

    return 0;
}
