
#include "header.h"


static const int32_t num_class[] = {  6, };

int32_t get_num_target(void) {
  return N_TARGET;
}
void get_num_class(int32_t* out) {
  for (int i = 0; i < N_TARGET; ++i) {
    out[i] = num_class[i];
  }
}
int32_t get_num_feature(void) {
  return 36;
}
const char* get_threshold_type(void) {
  return "float32";
}
const char* get_leaf_output_type(void) {
  return "float32";
}


void predict(union Entry* data, int pred_margin, float* result) {
  unsigned int tmp;
  if ( ( !(data[4].missing != -1) || ((*( ((int*)(data)) + 4 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.31338498530590436;
    result[1] += 0.13839166444028853;
    result[2] += 0.033128506545551696;
    result[3] += 0.09831685813518568;
    result[4] += 0.1362543414373497;
    result[5] += 0.28052364413572;
  } else {
    result[0] += 0.024930747922437678;
    result[1] += 0.006463527239150509;
    result[2] += 0.7950138504155125;
    result[3] += 0.10710987996306558;
    result[4] += 0.0055401662049861505;
    result[5] += 0.06094182825484765;
  }
  if ( ( !(data[12].missing != -1) || ((*( ((int*)(data)) + 12 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.30970149253731344;
    result[1] += 0.12819829424307036;
    result[2] += 0.03384861407249467;
    result[3] += 0.0935501066098081;
    result[4] += 0.13912579957356078;
    result[5] += 0.2955756929637527;
  } else {
    result[0] += 0.0223463687150838;
    result[1] += 0.004655493482309125;
    result[2] += 0.8044692737430168;
    result[3] += 0.12476722532588454;
    result[4] += 0.00558659217877095;
    result[5] += 0.038175046554934824;
  }
  if ( ( !(data[4].missing != -1) || ((*( ((int*)(data)) + 4 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.3195790639711991;
    result[1] += 0.14261977291608974;
    result[2] += 0.026308501800055388;
    result[3] += 0.08529493215175851;
    result[4] += 0.1395735253392412;
    result[5] += 0.28662420382165604;
  } else {
    result[0] += 0.022222222222222223;
    result[1] += 0.006584362139917695;
    result[2] += 0.7646090534979424;
    result[3] += 0.12016460905349795;
    result[4] += 0.0049382716049382715;
    result[5] += 0.08148148148148149;
  }
  if ( ( !(data[20].missing != -1) || ((*( ((int*)(data)) + 20 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.2987529848766251;
    result[1] += 0.12921199257097374;
    result[2] += 0.03343061820111436;
    result[3] += 0.09074024940302468;
    result[4] += 0.14009020960466967;
    result[5] += 0.3077739453435925;
  } else {
    result[0] += 0.002838221381267739;
    result[1] += 0.007568590350047304;
    result[2] += 0.8202459791863765;
    result[3] += 0.1097445600756859;
    result[4] += 0.008514664143803218;
    result[5] += 0.0510879848628193;
  }
  if ( ( !(data[12].missing != -1) || ((*( ((int*)(data)) + 12 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.3096685082872928;
    result[1] += 0.13839779005524863;
    result[2] += 0.022099447513812154;
    result[3] += 0.08397790055248619;
    result[4] += 0.14723756906077348;
    result[5] += 0.29861878453038676;
  } else {
    result[0] += 0.019071310116086235;
    result[1] += 0.00912106135986733;
    result[2] += 0.7711442786069652;
    result[3] += 0.15091210613598674;
    result[4] += 0.003316749585406302;
    result[5] += 0.04643449419568822;
  }
  if ( ( !(data[0].missing != -1) || ((*( ((int*)(data)) + 0 ))<=((int)(0x429d0000))) ) ) {
    result[0] += 0.3189923577696009;
    result[1] += 0.1437871497311067;
    result[2] += 0.019530144353240873;
    result[3] += 0.08434757996037362;
    result[4] += 0.13869232946504387;
    result[5] += 0.294650438720634;
  } else {
    result[0] += 0.038669760247486466;
    result[1] += 0.0069605568445475635;
    result[2] += 0.7014694508894045;
    result[3] += 0.15081206496519722;
    result[4] += 0.01237432327919567;
    result[5] += 0.0897138437741686;
  }
  if ( ( !(data[12].missing != -1) || ((*( ((int*)(data)) + 12 ))<=((int)(0x429d0000))) ) ) {
    result[0] += 0.32242319839219064;
    result[1] += 0.14010910134941143;
    result[2] += 0.01320700545506747;
    result[3] += 0.06660924490381855;
    result[4] += 0.14987080103359174;
    result[5] += 0.30778064886592016;
  } else {
    result[0] += 0.023827252419955324;
    result[1] += 0.011169024571854059;
    result[2] += 0.7334326135517498;
    result[3] += 0.15562174236783322;
    result[4] += 0.007446016381236039;
    result[5] += 0.06850335070737155;
  }
  if ( ( !(data[8].missing != -1) || ((*( ((int*)(data)) + 8 ))<=((int)(0x429d0000))) ) ) {
    result[0] += 0.3126622440149986;
    result[1] += 0.1433516008076147;
    result[2] += 0.02249783674646669;
    result[3] += 0.08278050187481974;
    result[4] += 0.1433516008076147;
    result[5] += 0.29535621574848575;
  } else {
    result[0] += 0.027961736571008096;
    result[1] += 0.01177336276674025;
    result[2] += 0.7240618101545254;
    result[3] += 0.13833701250919794;
    result[4] += 0.009565857247976454;
    result[5] += 0.08830022075055188;
  }
  if ( ( !(data[15].missing != -1) || ((*( ((int*)(data)) + 15 ))<=((int)(0x42930000))) ) ) {
    result[0] += 0.03555268261150614;
    result[1] += 0.009696186166774402;
    result[2] += 0.007110536522301228;
    result[3] += 0.13445378151260504;
    result[4] += 0.19586296056884292;
    result[5] += 0.6173238526179703;
  } else {
    result[0] += 0.3494967978042086;
    result[1] += 0.14608112229338213;
    result[2] += 0.3025312595303446;
    result[3] += 0.0802073802988716;
    result[4] += 0.06648368405001524;
    result[5] += 0.055199756023177796;
  }
  if ( ( !(data[24].missing != -1) || ((*( ((int*)(data)) + 24 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.3003865267807841;
    result[1] += 0.14191054665930425;
    result[2] += 0.031750414135836555;
    result[3] += 0.0894533406957482;
    result[4] += 0.14715626725565986;
    result[5] += 0.28934290447266703;
  } else {
    result[0] += 0.015780730897009966;
    result[1] += 0.007475083056478406;
    result[2] += 0.7583056478405316;
    result[3] += 0.14119601328903655;
    result[4] += 0.01744186046511628;
    result[5] += 0.059800664451827246;
  }
  if ( ( !(data[20].missing != -1) || ((*( ((int*)(data)) + 20 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.3076923076923077;
    result[1] += 0.1319838056680162;
    result[2] += 0.03346828609986505;
    result[3] += 0.09959514170040486;
    result[4] += 0.13738191632928476;
    result[5] += 0.28987854251012146;
  } else {
    result[0] += 0.005352363960749331;
    result[1] += 0.005352363960749331;
    result[2] += 0.8269402319357717;
    result[3] += 0.11507582515611063;
    result[4] += 0.0017841213202497773;
    result[5] += 0.04549509366636932;
  }
  if ( ( !(data[16].missing != -1) || ((*( ((int*)(data)) + 16 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.3085865257595773;
    result[1] += 0.1299867899603699;
    result[2] += 0.026420079260237782;
    result[3] += 0.09669749009247028;
    result[4] += 0.13764861294583883;
    result[5] += 0.30066050198150596;
  } else {
    result[0] += 0.007684918347742555;
    result[1] += 0;
    result[2] += 0.8626320845341018;
    result[3] += 0.11143131604226705;
    result[4] += 0;
    result[5] += 0.01825168107588857;
  }
  if ( ( !(data[16].missing != -1) || ((*( ((int*)(data)) + 16 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.31258644536652835;
    result[1] += 0.1405255878284924;
    result[2] += 0.017980636237897647;
    result[3] += 0.08271092669432918;
    result[4] += 0.14024896265560166;
    result[5] += 0.3059474412171508;
  } else {
    result[0] += 0.01568951279933939;
    result[1] += 0;
    result[2] += 0.7712634186622626;
    result[3] += 0.16019818331957061;
    result[4] += 0.0016515276630883566;
    result[5] += 0.05119735755573906;
  }
  if ( ( !(data[12].missing != -1) || ((*( ((int*)(data)) + 12 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.31025006870019234;
    result[1] += 0.1321791701016763;
    result[2] += 0.020884858477603737;
    result[3] += 0.08766144545204727;
    result[4] += 0.13959879087661445;
    result[5] += 0.3094256663918659;
  } else {
    result[0] += 0.018534119629317607;
    result[1] += 0.008424599831508003;
    result[2] += 0.7666385846672283;
    result[3] += 0.14153327716933445;
    result[4] += 0.005054759898904802;
    result[5] += 0.05981465880370682;
  }
  if ( ( !(data[20].missing != -1) || ((*( ((int*)(data)) + 20 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.30347593582887705;
    result[1] += 0.1294117647058824;
    result[2] += 0.031016042780748668;
    result[3] += 0.09732620320855616;
    result[4] += 0.14090909090909093;
    result[5] += 0.29786096256684497;
  } else {
    result[0] += 0.0027624309392265192;
    result[1] += 0.003683241252302026;
    result[2] += 0.8443830570902394;
    result[3] += 0.10313075506445672;
    result[4] += 0.001841620626151013;
    result[5] += 0.04419889502762431;
  }
  if ( ( !(data[22].missing != -1) || ((*( ((int*)(data)) + 22 ))<=((int)(0x42b50000))) ) ) {
    result[0] += 0.08878224355128975;
    result[1] += 0.016196760647870425;
    result[2] += 0.013797240551889621;
    result[3] += 0.08158368326334733;
    result[4] += 0.22315536892621476;
    result[5] += 0.5764847030593881;
  } else {
    result[0] += 0.3121240899018677;
    result[1] += 0.16176005064893953;
    result[2] += 0.31718898385565053;
    result[3] += 0.11712567268122824;
    result[4] += 0.04083570750237417;
    result[5] += 0.05096549540993985;
  }
  if ( ( !(data[12].missing != -1) || ((*( ((int*)(data)) + 12 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.3048327137546468;
    result[1] += 0.13913967073818376;
    result[2] += 0.028943175783324483;
    result[3] += 0.08550185873605948;
    result[4] += 0.13993627190653213;
    result[5] += 0.30164630908125334;
  } else {
    result[0] += 0.010377358490566037;
    result[1] += 0.008490566037735849;
    result[2] += 0.809433962264151;
    result[3] += 0.12452830188679245;
    result[4] += 0.0009433962264150943;
    result[5] += 0.04622641509433962;
  }
  if ( ( !(data[16].missing != -1) || ((*( ((int*)(data)) + 16 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.30965535385424886;
    result[1] += 0.13943699026571954;
    result[2] += 0.026308866087871613;
    result[3] += 0.08787161273349119;
    result[4] += 0.13812154696132597;
    result[5] += 0.2986056300973428;
  } else {
    result[0] += 0.011707317073170732;
    result[1] += 0;
    result[2] += 0.8429268292682927;
    result[3] += 0.1151219512195122;
    result[4] += 0;
    result[5] += 0.03024390243902439;
  }
  if ( ( !(data[0].missing != -1) || ((*( ((int*)(data)) + 0 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.29573664328116567;
    result[1] += 0.13248785752833242;
    result[2] += 0.03507825148407987;
    result[3] += 0.08769562871019967;
    result[4] += 0.1492174851592013;
    result[5] += 0.29978413383702107;
  } else {
    result[0] += 0.027678571428571427;
    result[1] += 0.0017857142857142857;
    result[2] += 0.7642857142857142;
    result[3] += 0.11607142857142858;
    result[4] += 0.017857142857142856;
    result[5] += 0.07232142857142858;
  }
  if ( ( !(data[4].missing != -1) || ((*( ((int*)(data)) + 4 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.31260053619302947;
    result[1] += 0.13780160857908846;
    result[2] += 0.030563002680965148;
    result[3] += 0.09812332439678284;
    result[4] += 0.14048257372654155;
    result[5] += 0.2804289544235925;
  } else {
    result[0] += 0.03102189781021898;
    result[1] += 0.005474452554744526;
    result[2] += 0.791058394160584;
    result[3] += 0.11313868613138686;
    result[4] += 0.006386861313868613;
    result[5] += 0.05291970802919708;
  }
  if ( ( !(data[8].missing != -1) || ((*( ((int*)(data)) + 8 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.30065005417118096;
    result[1] += 0.12594799566630552;
    result[2] += 0.042524377031419286;
    result[3] += 0.10211267605633803;
    result[4] += 0.14788732394366197;
    result[5] += 0.28087757313109424;
  } else {
    result[0] += 0.014109347442680775;
    result[1] += 0.008818342151675485;
    result[2] += 0.8201058201058201;
    result[3] += 0.09788359788359788;
    result[4] += 0;
    result[5] += 0.059082892416225746;
  }
  if ( ( !(data[16].missing != -1) || ((*( ((int*)(data)) + 16 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.3141919606234619;
    result[1] += 0.1408258135083402;
    result[2] += 0.018321028165162706;
    result[3] += 0.0814875581077386;
    result[4] += 0.13891167623735304;
    result[5] += 0.3062619633579437;
  } else {
    result[0] += 0.017964071856287425;
    result[1] += 0;
    result[2] += 0.8160821214713431;
    result[3] += 0.12917023096663816;
    result[4] += 0;
    result[5] += 0.036783575705731396;
  }
  if ( ( !(data[28].missing != -1) || ((*( ((int*)(data)) + 28 ))<=((int)(0x429f0000))) ) ) {
    result[0] += 0.31746031746031744;
    result[1] += 0.13765736179529284;
    result[2] += 0.025998905309250135;
    result[3] += 0.09003831417624521;
    result[4] += 0.13929939792008758;
    result[5] += 0.2895457033388068;
  } else {
    result[0] += 0.006825938566552901;
    result[1] += 0.002559726962457338;
    result[2] += 0.8003412969283277;
    result[3] += 0.11518771331058021;
    result[4] += 0.010238907849829351;
    result[5] += 0.06484641638225255;
  }
  if ( ( !(data[7].missing != -1) || ((*( ((int*)(data)) + 7 ))<=((int)(0x42950000))) ) ) {
    result[0] += 0.03437876960193004;
    result[1] += 0.012665862484921592;
    result[2] += 0.016887816646562123;
    result[3] += 0.15078407720144751;
    result[4] += 0.19662243667068757;
    result[5] += 0.5886610373944512;
  } else {
    result[0] += 0.3428030303030303;
    result[1] += 0.16003787878787878;
    result[2] += 0.3033459595959596;
    result[3] += 0.0763888888888889;
    result[4] += 0.06186868686868687;
    result[5] += 0.05555555555555555;
  }
  if ( ( !(data[28].missing != -1) || ((*( ((int*)(data)) + 28 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.292455345241269;
    result[1] += 0.1466275659824047;
    result[2] += 0.03625699813383098;
    result[3] += 0.10050653159157558;
    result[4] += 0.13009864036257;
    result[5] += 0.29405491868834976;
  } else {
    result[0] += 0.0065116279069767444;
    result[1] += 0.0018604651162790699;
    result[2] += 0.8362790697674418;
    result[3] += 0.0986046511627907;
    result[4] += 0.01581395348837209;
    result[5] += 0.04093023255813953;
  }
  if ( ( !(data[28].missing != -1) || ((*( ((int*)(data)) + 28 ))<=((int)(0x429d0000))) ) ) {
    result[0] += 0.32501418037436186;
    result[1] += 0.15768576290414066;
    result[2] += 0.01474758933635848;
    result[3] += 0.07033465683494045;
    result[4] += 0.14605785592739648;
    result[5] += 0.286159954622802;
  } else {
    result[0] += 0.016153846153846154;
    result[1] += 0.0038461538461538464;
    result[2] += 0.7376923076923076;
    result[3] += 0.14;
    result[4] += 0.016923076923076923;
    result[5] += 0.08538461538461538;
  }
  if ( ( !(data[19].missing != -1) || ((*( ((int*)(data)) + 19 ))<=((int)(0x42970000))) ) ) {
    result[0] += 0.05341409691629956;
    result[1] += 0.006607929515418502;
    result[2] += 0.006607929515418502;
    result[3] += 0.14812775330396477;
    result[4] += 0.1932819383259912;
    result[5] += 0.5919603524229075;
  } else {
    result[0] += 0.33920265780730896;
    result[1] += 0.17109634551495018;
    result[2] += 0.32857142857142857;
    result[3] += 0.06677740863787375;
    result[4] += 0.059800664451827246;
    result[5] += 0.0345514950166113;
  }
  if ( ( !(data[24].missing != -1) || ((*( ((int*)(data)) + 24 ))<=((int)(0x42a20000))) ) ) {
    result[0] += 0.31707959936742225;
    result[1] += 0.12967843964153927;
    result[2] += 0.0382182393252504;
    result[3] += 0.09488666315234581;
    result[4] += 0.13916710595677384;
    result[5] += 0.2809699525566684;
  } else {
    result[0] += 0.012596899224806201;
    result[1] += 0.006782945736434108;
    result[2] += 0.8023255813953488;
    result[3] += 0.125;
    result[4] += 0.01065891472868217;
    result[5] += 0.04263565891472868;
  }
  if ( ( !(data[0].missing != -1) || ((*( ((int*)(data)) + 0 ))<=((int)(0x429d0000))) ) ) {
    result[0] += 0.3004640371229699;
    result[1] += 0.14617169373549888;
    result[2] += 0.02146171693735499;
    result[3] += 0.0783062645011601;
    result[4] += 0.14965197215777265;
    result[5] += 0.30394431554524365;
  } else {
    result[0] += 0.03483309143686502;
    result[1] += 0.006531204644412192;
    result[2] += 0.706821480406386;
    result[3] += 0.17126269956458637;
    result[4] += 0.012336719883889695;
    result[5] += 0.06821480406386067;
  }
  if ( ( !(data[8].missing != -1) || ((*( ((int*)(data)) + 8 ))<=((int)(0x429d0000))) ) ) {
    result[0] += 0.3166714001704061;
    result[1] += 0.1408690712865663;
    result[2] += 0.0224368077250781;
    result[3] += 0.08719113888099972;
    result[4] += 0.14143709173530247;
    result[5] += 0.29139449020164726;
  } else {
    result[0] += 0.02145593869731801;
    result[1] += 0.012260536398467435;
    result[2] += 0.7417624521072798;
    result[3] += 0.12643678160919544;
    result[4] += 0.009195402298850576;
    result[5] += 0.0888888888888889;
  }
  
  // Average tree outputs
  result[0] /= 30;
  result[1] /= 30;
  result[2] /= 30;
  result[3] /= 30;
  result[4] /= 30;
  result[5] /= 30;
  
  // Apply base_scores
  result[0] += 0;
  result[1] += 0;
  result[2] += 0;
  result[3] += 0;
  result[4] += 0;
  result[5] += 0;
  
  // Apply postprocessor
  if (!pred_margin) { postprocess(result); }
}

void postprocess(float* result) {
  // Do nothing
}


int main() {
    float result[MAX_N_CLASS];
    union Entry input[TEST_DATA_COLS];
    char line[1024];
    

    FILE* file = fopen("./codegen/dataset_146/split_2/test_data.csv", "r");
    if (file == NULL) {
        printf("Error opening file\n");
        return 1;
    }

    while (fgets(line, sizeof(line), file)) {
        char *ptr = line;
        for (int i = 0; i < TEST_DATA_COLS; i++) {
            sscanf(ptr, "%f", &(input[i].fvalue));
            input[i].missing = -1;
            while (*ptr != ',' && *ptr != '\n' && *ptr != '\0') ptr++;  // Skip to next comma
            if (*ptr == ',') ptr++;  // Move past the comma
        }
        predict(input, 0, result);
        
    }
    

    return 0;
}
