
#include "header.h"


static const int32_t num_class[] = {  7, };

int32_t get_num_target(void) {
  return N_TARGET;
}
void get_num_class(int32_t* out) {
  for (int i = 0; i < N_TARGET; ++i) {
    out[i] = num_class[i];
  }
}
int32_t get_num_feature(void) {
  return 7;
}
const char* get_threshold_type(void) {
  return "float32";
}
const char* get_leaf_output_type(void) {
  return "float32";
}


void predict(union Entry* data, int pred_margin, float* result) {
  unsigned int tmp;
  if ( ( !(data[0].missing != -1) || (data[0].fvalue <= (float)91.5) ) ) {
    result[0] += 0.8425565770862801;
    result[1] += 0.0010902876001885903;
    result[2] += 0.002386845827439887;
    result[3] += 0.10375412541254125;
    result[4] += 0.050035360678925035;
    result[5] += 8.84016973125884e-05;
    result[6] += 8.84016973125884e-05;
  } else {
    result[0] += 0.5950439146800501;
    result[1] += 0;
    result[2] += 0.006064408197406943;
    result[3] += 0.3236093684650774;
    result[4] += 0.0740276035131744;
    result[5] += 0.0007319113341698034;
    result[6] += 0.0005227938101212882;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.11784140969162997;
    result[1] += 0.00235997482693518;
    result[2] += 0.004562617998741348;
    result[3] += 0.5034612964128383;
    result[4] += 0.37067337948395224;
    result[5] += 0.001101321585903084;
    result[6] += 0;
  } else {
    result[0] += 0.9022183932802066;
    result[1] += 0.0006461339651087658;
    result[2] += 0.003257592074090027;
    result[3] += 0.09355481369804004;
    result[4] += 0;
    result[5] += 0;
    result[6] += 0.0003230669825543829;
  }
  if ( ( !(data[6].missing != -1) || (data[6].fvalue <= (float)3) ) ) {
    result[0] += 0.9991582491582491;
    result[1] += 0;
    result[2] += 0.0006121824303642485;
    result[3] += 0;
    result[4] += 0.0001147842056932966;
    result[5] += 0;
    result[6] += 0.0001147842056932966;
  } else {
    result[0] += 0.4654457498272288;
    result[1] += 0.0020732550103662755;
    result[2] += 0.005701451278507257;
    result[3] += 0.3840129002533979;
    result[4] += 0.14196037779313525;
    result[5] += 0.0005183137525915689;
    result[6] += 0.00028795208477309383;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.11138537488429497;
    result[1] += 0.002468373958654736;
    result[2] += 0.0038568343103980254;
    result[3] += 0.49737735266892935;
    result[4] += 0.38475779080530703;
    result[5] += 0.000154273372415921;
    result[6] += 0;
  } else {
    result[0] += 0.903830568912421;
    result[1] += 0.0005943054730131287;
    result[2] += 0.0029985412502026043;
    result[3] += 0.0923604732832676;
    result[4] += 0;
    result[5] += 5.4027770273920795e-05;
    result[6] += 0.00016208331082176238;
  }
  if ( ( !(data[6].missing != -1) || (data[6].fvalue <= (float)3) ) ) {
    result[0] += 0.9992373980019829;
    result[1] += 0;
    result[2] += 0.0005338213986120644;
    result[3] += 0;
    result[4] += 0.00019065049950430874;
    result[5] += 0;
    result[6] += 3.813009990086175e-05;
  } else {
    result[0] += 0.4584346416579831;
    result[1] += 0.0018524950793099456;
    result[2] += 0.0069468565474122956;
    result[3] += 0.38746092393192083;
    result[4] += 0.14432094477249044;
    result[5] += 0.0004052332985990506;
    result[6] += 0.000578904712284358;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8407471548738248;
    result[1] += 0.00042058386937159824;
    result[2] += 0.0028698664027709056;
    result[3] += 0.1310242454230579;
    result[4] += 0.024393864423552698;
    result[5] += 0.00034636318654131617;
    result[6] += 0.0001979218208807521;
  } else {
    result[0] += 0.08506493506493507;
    result[1] += 0.006493506493506494;
    result[2] += 0.001948051948051948;
    result[3] += 0.4051948051948052;
    result[4] += 0.5012987012987012;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)7) ) ) {
    result[0] += 0.2520926610862371;
    result[1] += 0.0035039906560249173;
    result[2] += 0.006618649016935955;
    result[3] += 0.39848160404905586;
    result[4] += 0.3393030951917462;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.8574928968016057;
    result[1] += 0.0006256027943591482;
    result[2] += 0.002241743346453614;
    result[3] += 0.12011573651695644;
    result[4] += 0.018950551312462528;
    result[5] += 0.0002606678309829784;
    result[6] += 0.0003128013971795741;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.11888994008199306;
    result[1] += 0.0020498265531378114;
    result[2] += 0.003941974140649638;
    result[3] += 0.5028382213812678;
    result[4] += 0.3708609271523179;
    result[5] += 0.0014191106906338694;
    result[6] += 0;
  } else {
    result[0] += 0.901716992303138;
    result[1] += 0.000780451046880887;
    result[2] += 0.0030948920824586897;
    result[3] += 0.09411163141180903;
    result[4] += 0;
    result[5] += 0;
    result[6] += 0.0002960331557134399;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)7) ) ) {
    result[0] += 0.23516949152542374;
    result[1] += 0.005778120184899846;
    result[2] += 0.006933744221879815;
    result[3] += 0.4206471494607088;
    result[4] += 0.3314714946070878;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.8596898820089799;
    result[1] += 0.0004176673279732693;
    result[2] += 0.0023232745118513106;
    result[3] += 0.11874804218440013;
    result[4] += 0.01837736243082385;
    result[5] += 0.00023493787198496398;
    result[6] += 0.00020883366398663465;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)4) ) ) {
    result[0] += 0.2063456844907921;
    result[1] += 0.00488129576214777;
    result[2] += 0.0033281562014643887;
    result[3] += 0.44930108719769246;
    result[4] += 0.33614377634790327;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.8542302464544919;
    result[1] += 0.00043597568794398993;
    result[2] += 0.0024619803554484137;
    result[3] += 0.12012412484292052;
    result[4] += 0.022132177570333138;
    result[5] += 0.00025645628702587644;
    result[6] += 0.00035903880183622703;
  }
  if ( ( !(data[0].missing != -1) || (data[0].fvalue <= (float)91.5) ) ) {
    result[0] += 0.8438541144558775;
    result[1] += 0.0013267682872895599;
    result[2] += 0.001827991862487838;
    result[3] += 0.1021611581212961;
    result[4] += 0.05041719491700327;
    result[5] += 0.00026535365745791197;
    result[6] += 0.00014741869858772886;
  } else {
    result[0] += 0.5902118334550768;
    result[1] += 0;
    result[2] += 0.004800166962329125;
    result[3] += 0.3303767087550872;
    result[4] += 0.07419388500469583;
    result[5] += 0.00041740582281122826;
    result[6] += 0;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8363968771617749;
    result[1] += 0.0005682379681786738;
    result[2] += 0.003532957802154363;
    result[3] += 0.1350676944362091;
    result[4] += 0.023964818657970156;
    result[5] += 0.0002964719833975689;
    result[6] += 0.00017294199031524853;
  } else {
    result[0] += 0.09391534391534391;
    result[1] += 0.006944444444444444;
    result[2] += 0.0033068783068783067;
    result[3] += 0.4031084656084656;
    result[4] += 0.49272486772486773;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[0].missing != -1) || (data[0].fvalue <= (float)91.5) ) ) {
    result[0] += 0.8404092673174174;
    result[1] += 0.0010290485710925555;
    result[2] += 0.00241091379513113;
    result[3] += 0.1036692931906386;
    result[4] += 0.052158061860519814;
    result[5] += 8.820416323650477e-05;
    result[6] += 0.0002352111019640127;
  } else {
    result[0] += 0.5926433389544689;
    result[1] += 0;
    result[2] += 0.00505902192242833;
    result[3] += 0.32599072512647553;
    result[4] += 0.0755691399662732;
    result[5] += 0.00031618887015177064;
    result[6] += 0.00042158516020236085;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)4) ) ) {
    result[0] += 0.20212539851222106;
    result[1] += 0.004038257173219979;
    result[2] += 0.005313496280552604;
    result[3] += 0.4501594048884166;
    result[4] += 0.3383634431455898;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.8572754220904756;
    result[1] += 0.0004382007990720454;
    result[2] += 0.002268333548137647;
    result[3] += 0.119989689392963;
    result[4] += 0.019512823817502255;
    result[5] += 0.0001804356231473128;
    result[6] += 0.00033509472870215236;
  }
  if ( ( !(data[0].missing != -1) || (data[0].fvalue <= (float)91.5) ) ) {
    result[0] += 0.8402001177163038;
    result[1] += 0.0011771630370806356;
    result[2] += 0.002118893466745144;
    result[3] += 0.10691583284284874;
    result[4] += 0.04935256032960565;
    result[5] += 2.942907592701589e-05;
    result[6] += 0.00020600353148911125;
  } else {
    result[0] += 0.5980042016806723;
    result[1] += 0;
    result[2] += 0.004831932773109244;
    result[3] += 0.3255252100840336;
    result[4] += 0.06995798319327731;
    result[5] += 0.0008403361344537816;
    result[6] += 0.0008403361344537816;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.838613003095975;
    result[1] += 0.0003467492260061919;
    result[2] += 0.002526315789473684;
    result[3] += 0.1346625386996904;
    result[4] += 0.023281733746130028;
    result[5] += 0.00032198142414860675;
    result[6] += 0.00024767801857585134;
  } else {
    result[0] += 0.07968;
    result[1] += 0.00448;
    result[2] += 0.00224;
    result[3] += 0.41888;
    result[4] += 0.49472;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[6].missing != -1) || (data[6].fvalue <= (float)3) ) ) {
    result[0] += 0.9994671943979296;
    result[1] += 0;
    result[2] += 0.0004947480590653067;
    result[3] += 0;
    result[4] += 0;
    result[5] += 0;
    result[6] += 3.8057543005023594e-05;
  } else {
    result[0] += 0.45918485833720396;
    result[1] += 0.0021481653506734795;
    result[2] += 0.005921969345099862;
    result[3] += 0.38643752902926154;
    result[4] += 0.1453785415699025;
    result[5] += 0.000522526706920576;
    result[6] += 0.0004064096609382258;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)7) ) ) {
    result[0] += 0.23793901968351988;
    result[1] += 0.002701659590891548;
    result[2] += 0.006561173292165187;
    result[3] += 0.4168274797375531;
    result[4] += 0.3359706676958703;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.8602223498094891;
    result[1] += 0.0003653635367190355;
    result[2] += 0.002244376011274075;
    result[3] += 0.11785583798736887;
    result[4] += 0.01881622214103033;
    result[5] += 0.00018268176835951774;
    result[6] += 0.0003131687457591733;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8391686255103303;
    result[1] += 0.0005196090560435481;
    result[2] += 0.002894964740814054;
    result[3] += 0.13272299888655203;
    result[4] += 0.02432265248051466;
    result[5] += 0.00022268959544723493;
    result[6] += 0.00014845973029815662;
  } else {
    result[0] += 0.08557536466774716;
    result[1] += 0.008427876823338737;
    result[2] += 0.00226904376012966;
    result[3] += 0.43176661264181526;
    result[4] += 0.47196110210696923;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8392067764798852;
    result[1] += 0.0003951300224730199;
    result[2] += 0.0029634751685476495;
    result[3] += 0.13318351319981228;
    result[4] += 0.023707801348381196;
    result[5] += 0.00027165189045020124;
    result[6] += 0.00027165189045020124;
  } else {
    result[0] += 0.08047888260724975;
    result[1] += 0.005653475224476222;
    result[2] += 0.002327901563019621;
    result[3] += 0.4160292650482208;
    result[4] += 0.4955104755570336;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.12077596996245307;
    result[1] += 0.001095118898623279;
    result[2] += 0.003911138923654568;
    result[3] += 0.4863892365456821;
    result[4] += 0.3867334167709637;
    result[5] += 0.001095118898623279;
    result[6] += 0;
  } else {
    result[0] += 0.8998598684919692;
    result[1] += 0.0008084510078689229;
    result[2] += 0.002398404656677805;
    result[3] += 0.09669074054112319;
    result[4] += 0;
    result[5] += 5.3896733857928195e-05;
    result[6] += 0.00018863856850274868;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)4) ) ) {
    result[0] += 0.2032640949554896;
    result[1] += 0.005086901229334464;
    result[2] += 0.008266214497668503;
    result[3] += 0.4357778719796524;
    result[4] += 0.34760491733785503;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.8564024547470477;
    result[1] += 0.0004899180031973597;
    result[2] += 0.002965293177247177;
    result[3] += 0.1189211489866433;
    result[4] += 0.020834407714919297;
    result[5] += 0.00028363673869320825;
    result[6] += 0.00010314063225207572;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)4) ) ) {
    result[0] += 0.20979171140219025;
    result[1] += 0.003006227184882972;
    result[2] += 0.00622718488297187;
    result[3] += 0.44041228258535536;
    result[4] += 0.34056259394459953;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.8554694539556676;
    result[1] += 0.00038616996627448963;
    result[2] += 0.0023685091264835363;
    result[3] += 0.11945524290090878;
    result[4] += 0.021882964755554412;
    result[5] += 0.00010297865767319724;
    result[6] += 0.000334680637437891;
  }
  if ( ( !(data[0].missing != -1) || (data[0].fvalue <= (float)91.5) ) ) {
    result[0] += 0.8413697334987886;
    result[1] += 0.0006500029545588844;
    result[2] += 0.0022159191632689238;
    result[3] += 0.10261183005377297;
    result[4] += 0.052857058441174734;
    result[5] += 5.9091177687171306e-05;
    result[6] += 0.00023636471074868522;
  } else {
    result[0] += 0.5931220219598095;
    result[1] += 0;
    result[2] += 0.0045576962916925624;
    result[3] += 0.3296043090946758;
    result[4] += 0.07199088460741661;
    result[5] += 0.0004143360265175057;
    result[6] += 0.00031075201988812925;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8426569104887153;
    result[1] += 0.0004944009096976738;
    result[2] += 0.0027933651397918573;
    result[3] += 0.1300521592959731;
    result[4] += 0.02358292339257904;
    result[5] += 0.00012360022742441846;
    result[6] += 0.0002966405458186043;
  } else {
    result[0] += 0.10403675746636036;
    result[1] += 0.007876599934361668;
    result[2] += 0.002625533311453889;
    result[3] += 0.41483426320971445;
    result[4] += 0.4706268460781096;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.11760112447290333;
    result[1] += 0.0015617679212868967;
    result[2] += 0.005622364516632828;
    result[3] += 0.4928939559581446;
    result[4] += 0.3812275495861315;
    result[5] += 0.0010932375449008277;
    result[6] += 0;
  } else {
    result[0] += 0.9000997385233307;
    result[1] += 0.0005930398684529746;
    result[2] += 0.00309998113054964;
    result[3] += 0.09599158961641104;
    result[4] += 0;
    result[5] += 8.086907297086018e-05;
    result[6] += 0.00013478178828476697;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)4) ) ) {
    result[0] += 0.20720137990513152;
    result[1] += 0.004527813712807244;
    result[2] += 0.00646830530401035;
    result[3] += 0.43402328589909445;
    result[4] += 0.34777921517895644;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.8534300859451392;
    result[1] += 0.0004374453193350831;
    result[2] += 0.003216509700993258;
    result[3] += 0.12127528176624981;
    result[4] += 0.021074571560907827;
    result[5] += 0.00036024908651124493;
    result[6] += 0.0002058566208635685;
  }
  if ( ( !(data[0].missing != -1) || (data[0].fvalue <= (float)91.5) ) ) {
    result[0] += 0.8384581432985141;
    result[1] += 0.0010004413711931736;
    result[2] += 0.002383404443136678;
    result[3] += 0.10513461821391791;
    result[4] += 0.05284684419596881;
    result[5] += 5.884949242312785e-05;
    result[6] += 0.0001176989848462557;
  } else {
    result[0] += 0.5945349448239622;
    result[1] += 0;
    result[2] += 0.005359957961114031;
    result[3] += 0.3283236994219653;
    result[4] += 0.07062532842879664;
    result[5] += 0.0008407777193904361;
    result[6] += 0.00031529164477141355;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.1187918418184649;
    result[1] += 0.0009341429238673518;
    result[2] += 0.005760548030515337;
    result[3] += 0.4971197259847424;
    result[4] += 0.3759925268566091;
    result[5] += 0.0014012143858010279;
    result[6] += 0;
  } else {
    result[0] += 0.9037408636081669;
    result[1] += 0.0008360978504193976;
    result[2] += 0.002697089840062573;
    result[3] += 0.092456239717345;
    result[4] += 0;
    result[5] += 0;
    result[6] += 0.0002697089840062573;
  }
  if ( ( !(data[0].missing != -1) || (data[0].fvalue <= (float)91.5) ) ) {
    result[0] += 0.8391251805346774;
    result[1] += 0.0013853273204232617;
    result[2] += 0.002151678604061662;
    result[3] += 0.10336899814307189;
    result[4] += 0.053556164706575884;
    result[5] += 0.00011790019748283078;
    result[6] += 0.00029475049370707694;
  } else {
    result[0] += 0.5903060691528257;
    result[1] += 0;
    result[2] += 0.006372088164629688;
    result[3] += 0.32884153347957795;
    result[4] += 0.07385354643267524;
    result[5] += 0.00041784184686096315;
    result[6] += 0.00020892092343048157;
  }
  
  // Average tree outputs
  result[0] /= 30;
  result[1] /= 30;
  result[2] /= 30;
  result[3] /= 30;
  result[4] /= 30;
  result[5] /= 30;
  result[6] /= 30;
  
  // Apply base_scores
  result[0] += 0;
  result[1] += 0;
  result[2] += 0;
  result[3] += 0;
  result[4] += 0;
  result[5] += 0;
  result[6] += 0;
  
  // Apply postprocessor
  if (!pred_margin) { postprocess(result); }
}

void postprocess(float* result) {
  // Do nothing
}


int main() {
    float result[MAX_N_CLASS];
    union Entry input[TEST_DATA_COLS];
    char line[1024];
    

    FILE* file = fopen("./codegen/dataset_148/split_3/test_data.csv", "r");
    if (file == NULL) {
        printf("Error opening file\n");
        return 1;
    }

    while (fgets(line, sizeof(line), file)) {
        char *ptr = line;
        for (int i = 0; i < TEST_DATA_COLS; i++) {
            sscanf(ptr, "%f", &(input[i].fvalue));
            input[i].missing = -1;
            while (*ptr != ',' && *ptr != '\n' && *ptr != '\0') ptr++;  // Skip to next comma
            if (*ptr == ',') ptr++;  // Move past the comma
        }
        predict(input, 0, result);
        
    }
    

    return 0;
}
