
#include "header.h"


static const int32_t num_class[] = {  7, };

int32_t get_num_target(void) {
  return N_TARGET;
}
void get_num_class(int32_t* out) {
  for (int i = 0; i < N_TARGET; ++i) {
    out[i] = num_class[i];
  }
}
int32_t get_num_feature(void) {
  return 7;
}
const char* get_threshold_type(void) {
  return "float32";
}
const char* get_leaf_output_type(void) {
  return "float32";
}


void predict(union Entry* data, int pred_margin, float* result) {
  unsigned int tmp;
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8447789275634996;
    result[1] += 0.0003960984304599694;
    result[2] += 0.003168787443679755;
    result[3] += 0.12845967222854882;
    result[4] += 0.022651878991929497;
    result[5] += 0.0001485369114224885;
    result[6] += 0.0003960984304599694;
  } else {
    result[0] += 0.08853831294269157;
    result[1] += 0.00643915003219575;
    result[2] += 0.0028976175144880875;
    result[3] += 0.42916934964584674;
    result[4] += 0.4729555698647778;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[3].missing != -1) || (data[3].fvalue <= (float)-0.5) ) ) {
    result[0] += 0.7566338649474043;
    result[1] += 0.000814387512724805;
    result[2] += 0.0033932813030200207;
    result[3] += 0.1938242280285036;
    result[4] += 0.044587716321683075;
    result[5] += 0.0002714625042416017;
    result[6] += 0.0004750593824228029;
  } else {
    result[0] += 0.7980184251694767;
    result[1] += 0.0007648183556405354;
    result[2] += 0.002746393186163741;
    result[3] += 0.13683295671823398;
    result[4] += 0.06139405527550843;
    result[5] += 6.952894142186686e-05;
    result[6] += 0.00017382235355466714;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.11205140260147313;
    result[1] += 0.001567152483936687;
    result[2] += 0.0036044507130543802;
    result[3] += 0.4936530324400564;
    result[4] += 0.38787023977433005;
    result[5] += 0.0012537219871493496;
    result[6] += 0;
  } else {
    result[0] += 0.9054662032921146;
    result[1] += 0.0009698537137315122;
    result[2] += 0.0030981438077534416;
    result[3] += 0.09008863385328268;
    result[4] += 0;
    result[5] += 8.082114281095935e-05;
    result[6] += 0.00029634419030685093;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8425541382379117;
    result[1] += 0.00029664787896766545;
    result[2] += 0.002892316819934738;
    result[3] += 0.1302778601799664;
    result[4] += 0.02338574112528429;
    result[5] += 0.0002472065658063879;
    result[6] += 0.000346089192128943;
  } else {
    result[0] += 0.08497375328083989;
    result[1] += 0.004921259842519685;
    result[2] += 0.0036089238845144356;
    result[3] += 0.4124015748031496;
    result[4] += 0.4940944881889764;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.11533117183881426;
    result[1] += 0.0016983171221244403;
    result[2] += 0.003087849312953528;
    result[3] += 0.49436467500385983;
    result[4] += 0.3845916319283619;
    result[5] += 0.0009263547938860583;
    result[6] += 0;
  } else {
    result[0] += 0.8987926424114739;
    result[1] += 0.00040515355319666155;
    result[2] += 0.002728033924857521;
    result[3] += 0.09769602679415498;
    result[4] += 0;
    result[5] += 0;
    result[6] += 0.0003781433163168841;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8416864373270068;
    result[1] += 0.00034598655595096875;
    result[2] += 0.003113879003558719;
    result[3] += 0.13159845788849348;
    result[4] += 0.022933965994464216;
    result[5] += 0.0001482799525504152;
    result[6] += 0.00017299327797548438;
  } else {
    result[0] += 0.09025032938076416;
    result[1] += 0.0036231884057971015;
    result[2] += 0.00230566534914361;
    result[3] += 0.4034914361001318;
    result[4] += 0.5003293807641633;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8376421156697973;
    result[1] += 0.0004201680672268908;
    result[2] += 0.0033613445378151263;
    result[3] += 0.13484923381117153;
    result[4] += 0.02318339100346021;
    result[5] += 0.00024715768660405336;
    result[6] += 0.00029658922392486405;
  } else {
    result[0] += 0.08355263157894736;
    result[1] += 0.010197368421052632;
    result[2] += 0.0029605263157894738;
    result[3] += 0.42138157894736844;
    result[4] += 0.4819078947368421;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[6].missing != -1) || (data[6].fvalue <= (float)3) ) ) {
    result[0] += 0.9992410443230115;
    result[1] += 0;
    result[2] += 0.0007210078931390407;
    result[3] += 0;
    result[4] += 3.7947783849423196e-05;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.4699673431303943;
    result[1] += 0.0020993701889433173;
    result[2] += 0.00641474224399347;
    result[3] += 0.3787613715885235;
    result[4] += 0.14176580359225568;
    result[5] += 0.0004082108700723117;
    result[6] += 0.0005831583858175881;
  }
  if ( ( !(data[6].missing != -1) || (data[6].fvalue <= (float)3) ) ) {
    result[0] += 0.9993897322450225;
    result[1] += 0;
    result[2] += 0.0005339842856053093;
    result[3] += 0;
    result[4] += 3.8141734686093524e-05;
    result[5] += 0;
    result[6] += 3.8141734686093524e-05;
  } else {
    result[0] += 0.46424024997106816;
    result[1] += 0.0018516375419511631;
    result[2] += 0.006307140377271149;
    result[3] += 0.3868765189214211;
    result[4] += 0.13968290707094086;
    result[5] += 0.0004050457123018169;
    result[6] += 0.0006365004050457123;
  }
  if ( ( !(data[6].missing != -1) || (data[6].fvalue <= (float)3) ) ) {
    result[0] += 0.9993147295085087;
    result[1] += 0;
    result[2] += 0.0004949175771881068;
    result[3] += 0;
    result[4] += 0.00011421174858187079;
    result[5] += 0;
    result[6] += 7.614116572124719e-05;
  } else {
    result[0] += 0.4595253293100447;
    result[1] += 0.0027273254801833693;
    result[2] += 0.0073695816166656995;
    result[3] += 0.38797655660651076;
    result[4] += 0.14147275575929902;
    result[5] += 0.00029014100853014566;
    result[6] += 0.0006383102187663204;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)4) ) ) {
    result[0] += 0.20527923211169286;
    result[1] += 0.005235602094240838;
    result[2] += 0.0032722513089005235;
    result[3] += 0.4354275741710297;
    result[4] += 0.3507853403141361;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.856280193236715;
    result[1] += 0.00020557097337855896;
    result[2] += 0.002903689998972145;
    result[3] += 0.12023332305478467;
    result[4] += 0.019940384417720218;
    result[5] += 0.0001541782300339192;
    result[6] += 0.00028266008839551856;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8402571711177053;
    result[1] += 0.0003956478733926805;
    result[2] += 0.0028189910979228485;
    result[3] += 0.13155291790306628;
    result[4] += 0.024579624134520278;
    result[5] += 0.00017309594460929772;
    result[6] += 0.00022255192878338278;
  } else {
    result[0] += 0.08790849673202615;
    result[1] += 0.007516339869281046;
    result[2] += 0.0032679738562091504;
    result[3] += 0.4173202614379085;
    result[4] += 0.48398692810457516;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[6].missing != -1) || (data[6].fvalue <= (float)3) ) ) {
    result[0] += 0.999315537303217;
    result[1] += 0;
    result[2] += 0.0005323598752756864;
    result[3] += 0;
    result[4] += 0.00011407711613050422;
    result[5] += 0;
    result[6] += 3.802570537683474e-05;
  } else {
    result[0] += 0.4639576793396117;
    result[1] += 0.002209045459830252;
    result[2] += 0.006278339727938612;
    result[3] += 0.39175677246831764;
    result[4] += 0.13451924194861062;
    result[5] += 0.0003487966515521451;
    result[6] += 0.0009301244041390535;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.11312716945408646;
    result[1] += 0.0025244556642473968;
    result[2] += 0.003155569580309246;
    result[3] += 0.4911644051751341;
    result[4] += 0.38923950773114546;
    result[5] += 0.0007888923950773115;
    result[6] += 0;
  } else {
    result[0] += 0.9027770302997686;
    result[1] += 0.0005112749582907271;
    result[2] += 0.002421828749798181;
    result[3] += 0.09388622786717615;
    result[4] += 0;
    result[5] += 5.38184166621818e-05;
    result[6] += 0.0003498197083041817;
  }
  if ( ( !(data[0].missing != -1) || (data[0].fvalue <= (float)91.5) ) ) {
    result[0] += 0.8435562902178405;
    result[1] += 0.001387331011275754;
    result[2] += 0.002892732746915402;
    result[3] += 0.0994450675954897;
    result[4] += 0.05227581321211405;
    result[5] += 0.00017710608654584095;
    result[6] += 0.00026565912981876144;
  } else {
    result[0] += 0.5984202868426522;
    result[1] += 0;
    result[2] += 0.0054042818540843895;
    result[3] += 0.3252961962170027;
    result[4] += 0.06994387861151528;
    result[5] += 0.0004157139887757223;
    result[6] += 0.0005196424859696529;
  }
  if ( ( !(data[3].missing != -1) || (data[3].fvalue <= (float)-0.5) ) ) {
    result[0] += 0.7590369616819261;
    result[1] += 0.0006103763987792473;
    result[2] += 0.0032553407934893188;
    result[3] += 0.18874194642251613;
    result[4] += 0.04767717870464565;
    result[5] += 6.781959986436082e-05;
    result[6] += 0.0006103763987792473;
  } else {
    result[0] += 0.7995131281516258;
    result[1] += 0.0008346374543557642;
    result[2] += 0.00264301860545992;
    result[3] += 0.1353851504086246;
    result[4] += 0.06134585289514867;
    result[5] += 0.0001738828029907842;
    result[6] += 0.00010432968179447053;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.12066012766619962;
    result[1] += 0.0014012143858010279;
    result[2] += 0.0028024287716020557;
    result[3] += 0.4954071306243189;
    result[4] += 0.3778608127043438;
    result[5] += 0.0018682858477347035;
    result[6] += 0;
  } else {
    result[0] += 0.9011246864633059;
    result[1] += 0.0004585052728106372;
    result[2] += 0.002697089840062572;
    result[3] += 0.09539606764301316;
    result[4] += 0;
    result[5] += 5.3941796801251435e-05;
    result[6] += 0.0002697089840062572;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.12180901355184369;
    result[1] += 0.0014182161991805864;
    result[2] += 0.005042546485975418;
    result[3] += 0.5028364323983613;
    result[4] += 0.3682634730538923;
    result[5] += 0.0006303183107469273;
    result[6] += 0;
  } else {
    result[0] += 0.9036712063304085;
    result[1] += 0.0007805350702481563;
    result[2] += 0.002852990256769123;
    result[3] += 0.09247994832319535;
    result[4] += 0;
    result[5] += 8.074500726705065e-05;
    result[6] += 0.0001345750121117511;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)4) ) ) {
    result[0] += 0.1999138302455838;
    result[1] += 0.004093063334769496;
    result[2] += 0.004954760878931495;
    result[3] += 0.4353726841878501;
    result[4] += 0.35566566135286515;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.8560142055689948;
    result[1] += 0.00030881671727829536;
    result[2] += 0.002393329558906789;
    result[3] += 0.11994955993617788;
    result[4] += 0.020870863142724794;
    result[5] += 0.0002573472643985794;
    result[6] += 0.00020587781151886356;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.12040753318925594;
    result[1] += 0.001389317690645261;
    result[2] += 0.004939796233405372;
    result[3] += 0.5013893176906452;
    result[4] += 0.37079345476999076;
    result[5] += 0.001080580426057425;
    result[6] += 0;
  } else {
    result[0] += 0.9027875317378856;
    result[1] += 0.00081032899357139;
    result[2] += 0.002836151477499865;
    result[3] += 0.09318783426070985;
    result[4] += 0;
    result[5] += 0;
    result[6] += 0.00037815353033331534;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.11932352020043846;
    result[1] += 0.001096147823363608;
    result[2] += 0.0034450360162856246;
    result[3] += 0.48841215158158474;
    result[4] += 0.3867835891011588;
    result[5] += 0.0009395552771688068;
    result[6] += 0;
  } else {
    result[0] += 0.9033787788974511;
    result[1] += 0.0005927682276229994;
    result[2] += 0.0024788489518779975;
    result[3] += 0.09309155574715741;
    result[4] += 0;
    result[5] += 0;
    result[6] += 0.00045804817589049956;
  }
  if ( ( !(data[3].missing != -1) || (data[3].fvalue <= (float)-0.5) ) ) {
    result[0] += 0.7675744566675611;
    result[1] += 0.0005366246310705661;
    result[2] += 0.00436007512744835;
    result[3] += 0.18070834451301315;
    result[4] += 0.046149718272068686;
    result[5] += 0.0004024684733029246;
    result[6] += 0.00026831231553528306;
  } else {
    result[0] += 0.7950825405707891;
    result[1] += 0.0011541689983212088;
    result[2] += 0.003112758813654169;
    result[3] += 0.13818550643536653;
    result[4] += 0.0621152770005596;
    result[5] += 0.0001398992725237829;
    result[6] += 0.00020984890878567432;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.835450560879578;
    result[1] += 0.0005447836961097491;
    result[2] += 0.0033925166530470743;
    result[3] += 0.13641879008493674;
    result[4] += 0.023772379466607235;
    result[5] += 0.0001733402669440111;
    result[6] += 0.0002476289527771587;
  } else {
    result[0] += 0.09239653512993262;
    result[1] += 0.008341353865896696;
    result[2] += 0.0009624639076034649;
    result[3] += 0.4218800128328521;
    result[4] += 0.4764196342637151;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[6].missing != -1) || (data[6].fvalue <= (float)3) ) ) {
    result[0] += 0.9993474839749741;
    result[1] += 0;
    result[2] += 0.0005757494338463901;
    result[3] += 0;
    result[4] += 7.676659117951867e-05;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.4647790451080415;
    result[1] += 0.0018341262108098814;
    result[2] += 0.006820656846449246;
    result[3] += 0.3866567318163581;
    result[4] += 0.1387631111365851;
    result[5] += 0.000573164440878088;
    result[6] += 0.000573164440878088;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.10938471100062151;
    result[1] += 0.0021752641392169055;
    result[2] += 0.004195152268489746;
    result[3] += 0.4954940957116222;
    result[4] += 0.38781852082038537;
    result[5] += 0.0009322560596643879;
    result[6] += 0;
  } else {
    result[0] += 0.9025199654651413;
    result[1] += 0.0008363911072739046;
    result[2] += 0.002536153680120872;
    result[3] += 0.09367580401467732;
    result[4] += 0;
    result[5] += 2.6980358299158212e-05;
    result[6] += 0.0004047053744873732;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.1204635559621836;
    result[1] += 0.0013723696248856359;
    result[2] += 0.003354681305275999;
    result[3] += 0.5018298261665142;
    result[4] += 0.3722171393717597;
    result[5] += 0.0007624275693809088;
    result[6] += 0;
  } else {
    result[0] += 0.9003302474148666;
    result[1] += 0.0007038059661090358;
    result[2] += 0.002896432245141032;
    result[3] += 0.0956905419305939;
    result[4] += 0;
    result[5] += 8.120838070488874e-05;
    result[6] += 0.0002977640625845921;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.1111111111111111;
    result[1] += 0.0012537219871493496;
    result[2] += 0.0050148879485973985;
    result[3] += 0.509951418272998;
    result[4] += 0.37172856918978214;
    result[5] += 0.0009402914903620122;
    result[6] += 0;
  } else {
    result[0] += 0.9034187343409036;
    result[1] += 0.0007273902852986341;
    result[2] += 0.0027209784746356313;
    result[3] += 0.09280961232791832;
    result[4] += 0;
    result[5] += 5.38807618739729e-05;
    result[6] += 0.0002694038093698645;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8373768381442789;
    result[1] += 0.0004208545823637174;
    result[2] += 0.0025498836460860525;
    result[3] += 0.13653017774917067;
    result[4] += 0.022750903599544486;
    result[5] += 9.902460761499233e-05;
    result[6] += 0.0002723176709412289;
  } else {
    result[0] += 0.08467482292337411;
    result[1] += 0.007405022537025113;
    result[2] += 0.00128783000643915;
    result[3] += 0.41532517707662586;
    result[4] += 0.49130714745653575;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8405743285060032;
    result[1] += 0.0003218220076742171;
    result[2] += 0.0029706646862235424;
    result[3] += 0.13172422329496225;
    result[4] += 0.02386433964599579;
    result[5] += 0.00017328877336304;
    result[6] += 0.0003713330857779428;
  } else {
    result[0] += 0.09017713365539452;
    result[1] += 0.005475040257648953;
    result[2] += 0.0025764895330112722;
    result[3] += 0.3964573268921095;
    result[4] += 0.5053140096618357;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[6].missing != -1) || (data[6].fvalue <= (float)31) ) ) {
    result[0] += 0.9060708309329822;
    result[1] += 0.0003840561819328999;
    result[2] += 0.0020300112473596137;
    result[3] += 0.08770197240282007;
    result[4] += 0.003456505637396099;
    result[5] += 5.486516884755713e-05;
    result[6] += 0.0003017584286615642;
  } else {
    result[0] += 0.17340712359869448;
    result[1] += 0.003547608911593586;
    result[2] += 0.006243791684404711;
    result[3] += 0.4827586206896552;
    result[4] += 0.3326238115510146;
    result[5] += 0.0014190435646374343;
    result[6] += 0;
  }
  
  // Average tree outputs
  result[0] /= 30;
  result[1] /= 30;
  result[2] /= 30;
  result[3] /= 30;
  result[4] /= 30;
  result[5] /= 30;
  result[6] /= 30;
  
  // Apply base_scores
  result[0] += 0;
  result[1] += 0;
  result[2] += 0;
  result[3] += 0;
  result[4] += 0;
  result[5] += 0;
  result[6] += 0;
  
  // Apply postprocessor
  if (!pred_margin) { postprocess(result); }
}

void postprocess(float* result) {
  // Do nothing
}


int main() {
    float result[MAX_N_CLASS];
    union Entry input[TEST_DATA_COLS];
    char line[1024];
    

    FILE* file = fopen("./codegen/dataset_148/split_4/test_data.csv", "r");
    if (file == NULL) {
        printf("Error opening file\n");
        return 1;
    }

    while (fgets(line, sizeof(line), file)) {
        char *ptr = line;
        for (int i = 0; i < TEST_DATA_COLS; i++) {
            sscanf(ptr, "%f", &(input[i].fvalue));
            input[i].missing = -1;
            while (*ptr != ',' && *ptr != '\n' && *ptr != '\0') ptr++;  // Skip to next comma
            if (*ptr == ',') ptr++;  // Move past the comma
        }
        predict(input, 0, result);
        
    }
    

    return 0;
}
