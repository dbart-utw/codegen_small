
#include "header.h"


static const int32_t num_class[] = {  7, };

int32_t get_num_target(void) {
  return N_TARGET;
}
void get_num_class(int32_t* out) {
  for (int i = 0; i < N_TARGET; ++i) {
    out[i] = num_class[i];
  }
}
int32_t get_num_feature(void) {
  return 7;
}
const char* get_threshold_type(void) {
  return "float32";
}
const char* get_leaf_output_type(void) {
  return "float32";
}


void predict(union Entry* data, int pred_margin, float* result) {
  unsigned int tmp;
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)4) ) ) {
    result[0] += 0.20081179235206154;
    result[1] += 0.007049775688955351;
    result[2] += 0.005554368724631489;
    result[3] += 0.4281136509292886;
    result[4] += 0.35847041230506305;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.8545042376156006;
    result[1] += 0.00041216929853937507;
    result[2] += 0.0022411705608078518;
    result[3] += 0.12040495633581494;
    result[4] += 0.022025296890697856;
    result[5] += 0.0001288029057935547;
    result[6] += 0.00028336639274582036;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)4) ) ) {
    result[0] += 0.21032504780114722;
    result[1] += 0.005948587210537497;
    result[2] += 0.006798385383471425;
    result[3] += 0.4285107287019333;
    result[4] += 0.34841725090291054;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.8566751733560178;
    result[1] += 0.0004382233908179311;
    result[2] += 0.0026035624983888847;
    result[3] += 0.11963498569329518;
    result[4] += 0.02005516459155002;
    result[5] += 0.0002062227721496146;
    result[6] += 0.0003866676977805274;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)7) ) ) {
    result[0] += 0.23956513298388663;
    result[1] += 0.004076878276062901;
    result[2] += 0.006988934187536401;
    result[3] += 0.41603572121918075;
    result[4] += 0.3333333333333333;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.8634384208193171;
    result[1] += 0.00028683929176771225;
    result[2] += 0.0021904091371352575;
    result[3] += 0.11622206576442669;
    result[4] += 0.017471120498578838;
    result[5] += 0.00023468669326449186;
    result[6] += 0.00015645779550966125;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8416926349112134;
    result[1] += 0.00037097492209526634;
    result[2] += 0.0026957511005589354;
    result[3] += 0.13058317257753377;
    result[4] += 0.024311223227976457;
    result[5] += 7.419498441905327e-05;
    result[6] += 0.00027204827620319535;
  } else {
    result[0] += 0.09001956947162426;
    result[1] += 0.00684931506849315;
    result[2] += 0.0045662100456621;
    result[3] += 0.4050880626223092;
    result[4] += 0.4934768427919113;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[0].missing != -1) || (data[0].fvalue <= (float)91.5) ) ) {
    result[0] += 0.8401958470976876;
    result[1] += 0.0011503067484662577;
    result[2] += 0.002448088721094856;
    result[3] += 0.1032326569136385;
    result[4] += 0.05282562529495045;
    result[5] += 5.899008966493629e-05;
    result[6] += 8.848513449740444e-05;
  } else {
    result[0] += 0.5932680283451439;
    result[1] += 0;
    result[2] += 0.006044185077115466;
    result[3] += 0.3299291371404752;
    result[4] += 0.07002917882451022;
    result[5] += 0.00010421008753647355;
    result[6] += 0.0006252605252188413;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8371610096165731;
    result[1] += 0.00027193394477268795;
    result[2] += 0.0027687819831400955;
    result[3] += 0.13591752985093075;
    result[4] += 0.02353464685669081;
    result[5] += 0.00014832760623964796;
    result[6] += 0.00019777014165286397;
  } else {
    result[0] += 0.08330600196785831;
    result[1] += 0.0088553624139062;
    result[2] += 0.0019678583142013774;
    result[3] += 0.4089865529681863;
    result[4] += 0.49688422433584783;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[6].missing != -1) || (data[6].fvalue <= (float)3) ) ) {
    result[0] += 0.9988933831946882;
    result[1] += 0;
    result[2] += 0.0008776616042127757;
    result[3] += 0;
    result[4] += 0.0001907960009158208;
    result[5] += 0;
    result[6] += 3.815920018316416e-05;
  } else {
    result[0] += 0.4677344743841795;
    result[1] += 0.002370764426968891;
    result[2] += 0.005782352260899734;
    result[3] += 0.37712501445588065;
    result[4] += 0.14646698276859027;
    result[5] += 0.00023129409043598937;
    result[6] += 0.0002891176130449867;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.11570247933884299;
    result[1] += 0.0023839796567069298;
    result[2] += 0.0033375715193897015;
    result[3] += 0.5009535918626828;
    result[4] += 0.3763509218054673;
    result[5] += 0.0012714558169103626;
    result[6] += 0;
  } else {
    result[0] += 0.9060417114599011;
    result[1] += 0.0008869060417114599;
    result[2] += 0.0026875940657923028;
    result[3] += 0.09030316061062137;
    result[4] += 0;
    result[5] += 0;
    result[6] += 8.062782197376908e-05;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.11088488645262334;
    result[1] += 0.002349256068911512;
    result[2] += 0.004385277995301489;
    result[3] += 0.4931871574001567;
    result[4] += 0.3887235708692248;
    result[5] += 0.0004698512137823023;
    result[6] += 0;
  } else {
    result[0] += 0.9040819075845345;
    result[1] += 0.0005927522565000674;
    result[2] += 0.002667385154250303;
    result[3] += 0.09236157887646504;
    result[4] += 0;
    result[5] += 2.69432843863667e-05;
    result[6] += 0.000269432843863667;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8406373517786562;
    result[1] += 0.0003458498023715415;
    result[2] += 0.0028162055335968377;
    result[3] += 0.1325098814229249;
    result[4] += 0.023270750988142293;
    result[5] += 0.0001976284584980237;
    result[6] += 0.00022233201581027667;
  } else {
    result[0] += 0.09867549668874172;
    result[1] += 0.006291390728476821;
    result[2] += 0.001986754966887417;
    result[3] += 0.3913907284768212;
    result[4] += 0.5016556291390728;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[3].missing != -1) || (data[3].fvalue <= (float)-0.5) ) ) {
    result[0] += 0.7660874287265816;
    result[1] += 0.0006787944610371979;
    result[2] += 0.002579418951941352;
    result[3] += 0.1868721151235406;
    result[4] += 0.04337496606027695;
    result[5] += 0.00013575889220743959;
    result[6] += 0.00027151778441487917;
  } else {
    result[0] += 0.8026279199110123;
    result[1] += 0.0010428253615127922;
    result[2] += 0.0024680200222469413;
    result[3] += 0.13195216907675197;
    result[4] += 0.061491935483870976;
    result[5] += 0.00013904338153503896;
    result[6] += 0.0002780867630700779;
  }
  if ( ( !(data[5].missing != -1) || (data[5].fvalue <= (float)87.5) ) ) {
    result[0] += 0.8404321063950758;
    result[1] += 0.0003708006822732554;
    result[2] += 0.0026944849578523227;
    result[3] += 0.13314216498158357;
    result[4] += 0.023039082391911603;
    result[5] += 0.00012360022742441846;
    result[6] += 0.00019776036387906954;
  } else {
    result[0] += 0.08959632425336396;
    result[1] += 0.009517558254020347;
    result[2] += 0.003938299967180834;
    result[3] += 0.38759435510338036;
    result[4] += 0.5093534624220545;
    result[5] += 0;
    result[6] += 0;
  }
  if ( ( !(data[0].missing != -1) || (data[0].fvalue <= (float)91.5) ) ) {
    result[0] += 0.8419066709901837;
    result[1] += 0.0011201839459953425;
    result[2] += 0.002181410842201456;
    result[3] += 0.10293900893199304;
    result[4] += 0.05167585414025882;
    result[5] += 0.00017687114936768564;
    result[6] += 0;
  } else {
    result[0] += 0.5927743552260624;
    result[1] += 0;
    result[2] += 0.004489923775712644;
    result[3] += 0.32985277226688936;
    result[4] += 0.07215203090738226;
    result[5] += 0.0002088336639866346;
    result[6] += 0.0005220841599665866;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)7) ) ) {
    result[0] += 0.2387109224237746;
    result[1] += 0.006368197607101505;
    result[2] += 0.006947124662292551;
    result[3] += 0.4152836742570436;
    result[4] += 0.3326900810497877;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.862779894566522;
    result[1] += 0.0003392661412391043;
    result[2] += 0.0021660838248342812;
    result[3] += 0.11582024113993421;
    result[4] += 0.018633540372670804;
    result[5] += 0.00020877916383944876;
    result[6] += 5.219479095986219e-05;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)24.5) ) ) {
    result[0] += 0.06768158473954512;
    result[1] += 0.002384446074834923;
    result[2] += 0.005685986793837124;
    result[3] += 0.49578136463683053;
    result[4] += 0.42754952311078503;
    result[5] += 0.000917094644167278;
    result[6] += 0;
  } else {
    result[0] += 0.8952638772077376;
    result[1] += 0.0006833473507148864;
    result[2] += 0.002444280908326325;
    result[3] += 0.10145079899074853;
    result[4] += 0;
    result[5] += 5.256518082422203e-05;
    result[6] += 0.00010513036164844407;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)24.5) ) ) {
    result[0] += 0.0681081081081081;
    result[1] += 0.002162162162162162;
    result[2] += 0.004144144144144144;
    result[3] += 0.4881081081081081;
    result[4] += 0.43729729729729727;
    result[5] += 0.00018018018018018018;
    result[6] += 0;
  } else {
    result[0] += 0.8947826086956522;
    result[1] += 0.000764163372859025;
    result[2] += 0.0024242424242424242;
    result[3] += 0.10163372859025033;
    result[4] += 0;
    result[5] += 5.270092226613966e-05;
    result[6] += 0.0003425559947299078;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.1132545115121344;
    result[1] += 0.0020224019912881146;
    result[2] += 0.004667081518357187;
    result[3] += 0.4929993777224642;
    result[4] += 0.3864343497199751;
    result[5] += 0.0006222775357809583;
    result[6] += 0;
  } else {
    result[0] += 0.9032423392317652;
    result[1] += 0.0007013379369874838;
    result[2] += 0.0029941735002157964;
    result[3] += 0.09281937850668968;
    result[4] += 0;
    result[5] += 5.3949072075960293e-05;
    result[6] += 0.00018882175226586103;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)7) ) ) {
    result[0] += 0.2413793103448276;
    result[1] += 0.003134796238244514;
    result[2] += 0.005877742946708464;
    result[3] += 0.4092868338557994;
    result[4] += 0.34032131661442006;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.862615897489322;
    result[1] += 0.0002864881758516513;
    result[2] += 0.0024481716845504743;
    result[3] += 0.11589748932180438;
    result[4] += 0.018205021356391293;
    result[5] += 0.00031253255547452865;
    result[6] += 0.0002343994166058965;
  }
  if ( ( !(data[6].missing != -1) || (data[6].fvalue <= (float)3) ) ) {
    result[0] += 0.9993873252919778;
    result[1] += 0;
    result[2] += 0.0004977982002680452;
    result[3] += 0;
    result[4] += 0.00011487650775416428;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.4702329594477998;
    result[1] += 0.0020132297958009777;
    result[2] += 0.006269772792637331;
    result[3] += 0.38446937014667815;
    result[4] += 0.1360943341961461;
    result[5] += 0.0002876042565429968;
    result[6] += 0.000632729364394593;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.1168770453482936;
    result[1] += 0.002960885148823438;
    result[2] += 0.004519245753467353;
    result[3] += 0.4961820165186224;
    result[4] += 0.37899329904940005;
    result[5] += 0.0004675081813931744;
    result[6] += 0;
  } else {
    result[0] += 0.9037564382601193;
    result[1] += 0.0006202302942048918;
    result[2] += 0.0030202518674325167;
    result[3] += 0.09222554809481436;
    result[4] += 0;
    result[5] += 8.089960359194242e-05;
    result[6] += 0.0002966318798371222;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.10993459981314233;
    result[1] += 0.0021800062285892243;
    result[2] += 0.004360012457178449;
    result[3] += 0.5009342883836811;
    result[4] += 0.3815010900031143;
    result[5] += 0.0010900031142946122;
    result[6] += 0;
  } else {
    result[0] += 0.9028534440908356;
    result[1] += 0.000323642051890609;
    result[2] += 0.002993688979988133;
    result[3] += 0.09355952316737688;
    result[4] += 0;
    result[5] += 0;
    result[6] += 0.0002697017099088408;
  }
  if ( ( !(data[0].missing != -1) || (data[0].fvalue <= (float)91.5) ) ) {
    result[0] += 0.8426010152880073;
    result[1] += 0.0012030869450394674;
    result[2] += 0.002347486722028229;
    result[3] += 0.10147011355967019;
    result[4] += 0.05223157956512809;
    result[5] += 8.803075207605858e-05;
    result[6] += 5.868716805070572e-05;
  } else {
    result[0] += 0.6007854792484874;
    result[1] += 0;
    result[2] += 0.003502812864876339;
    result[3] += 0.3235325337013055;
    result[4] += 0.0712238615858189;
    result[5] += 0.0003184375331705763;
    result[6] += 0.0006368750663411526;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)4) ) ) {
    result[0] += 0.2060512367491166;
    result[1] += 0.0050795053003533566;
    result[2] += 0.006183745583038869;
    result[3] += 0.41850706713780916;
    result[4] += 0.36417844522968196;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.8566406650928872;
    result[1] += 0.00020527558246946525;
    result[2] += 0.002232371959355435;
    result[3] += 0.11977830237093298;
    result[4] += 0.02073283382941599;
    result[5] += 0.0002309350302781484;
    result[6] += 0.0001796161346607821;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)24.5) ) ) {
    result[0] += 0.06874095513748191;
    result[1] += 0.002532561505065123;
    result[2] += 0.005065123010130246;
    result[3] += 0.48589001447178004;
    result[4] += 0.4363241678726483;
    result[5] += 0.001447178002894356;
    result[6] += 0;
  } else {
    result[0] += 0.8966080269672391;
    result[1] += 0.0005267038870746866;
    result[2] += 0.0024491730748972926;
    result[3] += 0.1001790793216054;
    result[4] += 0;
    result[5] += 0;
    result[6] += 0.00023701674918360897;
  }
  if ( ( !(data[0].missing != -1) || (data[0].fvalue <= (float)91.5) ) ) {
    result[0] += 0.8386744892243285;
    result[1] += 0.0012972080544827382;
    result[2] += 0.0026238981102037207;
    result[3] += 0.10415991037471624;
    result[4] += 0.052949674223886314;
    result[5] += 0.00020637400866770837;
    result[6] += 8.844600371473216e-05;
  } else {
    result[0] += 0.5915875169606513;
    result[1] += 0;
    result[2] += 0.004905542218975055;
    result[3] += 0.3302369272518526;
    result[4] += 0.07264377413631146;
    result[5] += 0.00010437323870159691;
    result[6] += 0.0005218661935079845;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)25.5) ) ) {
    result[0] += 0.11811750230698247;
    result[1] += 0.002460781298062135;
    result[2] += 0.002614580129191018;
    result[3] += 0.4992310058443556;
    result[4] += 0.37696093509689327;
    result[5] += 0.0006151953245155337;
    result[6] += 0;
  } else {
    result[0] += 0.9042650954105628;
    result[1] += 0.000540569760527596;
    result[2] += 0.0024325639223741822;
    result[3] += 0.09243742905021893;
    result[4] += 0;
    result[5] += 2.7028488026379805e-05;
    result[6] += 0.00029731336829017787;
  }
  if ( ( !(data[6].missing != -1) || (data[6].fvalue <= (float)3) ) ) {
    result[0] += 0.9991208623193946;
    result[1] += 0;
    result[2] += 0.0005733506612644293;
    result[3] += 0;
    result[4] += 0.00015289350967051448;
    result[5] += 0;
    result[6] += 0.00015289350967051448;
  } else {
    result[0] += 0.470815549659707;
    result[1] += 0.0022493943938170493;
    result[2] += 0.005825354712192871;
    result[3] += 0.37662936901603417;
    result[4] += 0.14396124120429116;
    result[5] += 0.00017303033798592686;
    result[6] += 0.0003460606759718537;
  }
  if ( ( !(data[2].missing != -1) || (data[2].fvalue <= (float)4) ) ) {
    result[0] += 0.19225834046193327;
    result[1] += 0.004704875962360992;
    result[2] += 0.007912745936698032;
    result[3] += 0.43071000855431996;
    result[4] += 0.3644140290846878;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.8591850401813311;
    result[1] += 0.00036060168967648877;
    result[2] += 0.0027045126725736657;
    result[3] += 0.11732433546260046;
    result[4] += 0.019936121986400164;
    result[5] += 0.00015454358128992376;
    result[6] += 0.0003348444261281681;
  }
  if ( ( !(data[6].missing != -1) || (data[6].fvalue <= (float)3) ) ) {
    result[0] += 0.9993108728943338;
    result[1] += 0;
    result[2] += 0.0005742725880551302;
    result[3] += 0;
    result[4] += 0.00011485451761102603;
    result[5] += 0;
    result[6] += 0;
  } else {
    result[0] += 0.4682968929804373;
    result[1] += 0.0031645569620253164;
    result[2] += 0.006271576524741081;
    result[3] += 0.37905638665132335;
    result[4] += 0.14228998849252014;
    result[5] += 0.00034522439585730726;
    result[6] += 0.0005753739930955121;
  }
  if ( ( !(data[4].missing != -1) || (data[4].fvalue <= (float)24.5) ) ) {
    result[0] += 0.06447645818692903;
    result[1] += 0.002459592410400562;
    result[2] += 0.0035137034434293743;
    result[3] += 0.4852424455375966;
    result[4] += 0.44360505973295855;
    result[5] += 0.0007027406886858749;
    result[6] += 0;
  } else {
    result[0] += 0.8919540837917901;
    result[1] += 0.0007141345746931867;
    result[2] += 0.003015234870926788;
    result[3] += 0.10410495133305121;
    result[4] += 0;
    result[5] += 0;
    result[6] += 0.00021159542953872197;
  }
  
  // Average tree outputs
  result[0] /= 30;
  result[1] /= 30;
  result[2] /= 30;
  result[3] /= 30;
  result[4] /= 30;
  result[5] /= 30;
  result[6] /= 30;
  
  // Apply base_scores
  result[0] += 0;
  result[1] += 0;
  result[2] += 0;
  result[3] += 0;
  result[4] += 0;
  result[5] += 0;
  result[6] += 0;
  
  // Apply postprocessor
  if (!pred_margin) { postprocess(result); }
}

void postprocess(float* result) {
  // Do nothing
}


int main() {
    float result[MAX_N_CLASS];
    union Entry input[TEST_DATA_COLS];
    char line[1024];
    

    FILE* file = fopen("./codegen/dataset_148/split_2/test_data.csv", "r");
    if (file == NULL) {
        printf("Error opening file\n");
        return 1;
    }

    while (fgets(line, sizeof(line), file)) {
        char *ptr = line;
        for (int i = 0; i < TEST_DATA_COLS; i++) {
            sscanf(ptr, "%f", &(input[i].fvalue));
            input[i].missing = -1;
            while (*ptr != ',' && *ptr != '\n' && *ptr != '\0') ptr++;  // Skip to next comma
            if (*ptr == ',') ptr++;  // Move past the comma
        }
        predict(input, 0, result);
        
    }
    

    return 0;
}
